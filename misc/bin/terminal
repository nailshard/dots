#!/bin/bash

# tmux ls | grep -i attached | cut -d':' -f1

if [[ "$(bspc query -m -M --names)" =~ "eDP" ]]; then
    alacritty -e tmux
elif [[ -f ~/.config/alacritty/alacritty.yml-bit ]]; then
    alacritty --config-file ~/.config/alacritty/alacritty.yml-big -e tmux
else
    alacritty -e tmux
    notify-send "well this could have gone better :-/"
fi

exit $?
xt=$(which xtitle || exit 1)
myterm="alacritty"

windows=$(bspc query --desktop focused --nodes --node .window)
for window in $windows; do
    if [[ $myterm == $(xtitle $window| awk '{print tolower($l)}') ]]; then
        termwindow=$window
        break
    fi
done

if [ ! -z $termwindow ]; then
    echo $termwindow
fi
